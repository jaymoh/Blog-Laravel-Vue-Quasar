(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{1431:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"overlay-heavy force-center"})},i=[],o={name:"AuthRegister"},n=o,r=(s("34de"),s("2877")),l=Object(r["a"])(n,a,i,!1,null,"466070d1",null);e["default"]=l.exports},"21f3":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col"},[s("div",{staticClass:"fit"},[s("q-card",{staticClass:"q-pa-md q-ma-md",attrs:{flat:"",elevated:""}},[t.postsResults.data.length?[s("div",{staticClass:"flex justify-end q-gutter-lg"},[s("q-btn",{staticClass:"q-ml-md q-px-sm text-capitalize",attrs:{size:"md","icon-right":t.iconDir},on:{click:t.handleSortingByPublicationDate}},[t._v("\n            Publication Date\n          ")]),s("q-input",{staticStyle:{width:"320px"},attrs:{debounce:"1000",placeholder:"Search...",clearable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!1,2901929698),model:{value:t.pagination.searchQuery,callback:function(e){t.$set(t.pagination,"searchQuery",e)},expression:"pagination.searchQuery"}})],1),t._l(t.postsResults.data,(function(t,e){return s("PostItem",{key:e,attrs:{"single-post":t}})})),s("div",[s("div",{staticClass:"float-right q-mr-lg"},[s("span",{staticClass:"q-ml-xs q-mb-xs"},[t._v("\n              Showing "+t._s(t.pagination.from||0)+" to "+t._s(t.pagination.to||0)+" of\n              "+t._s(t.pagination.total)+" posts\n            ")]),s("q-pagination",{staticClass:"q-mb-xs q-ml-lg",attrs:{max:t.pagination.lastPage,"direction-links":"","boundary-links":!1,"boundary-numbers":!0,"max-pages":5,ellipses:!0},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}}),s("div",{})],1)])]:s("div",[t._v("No Blog Posts to Show")])],2)],1)])},i=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"q-pa-sm q-ma-sm",attrs:{flat:"",elevated:""}},[s("q-card-section",{staticClass:"q-pt-xs"},[s("div",{staticClass:"text-h5 q-mt-sm q-mb-xs"},[t._v(t._s(t.singlePost.title))]),s("div",{staticClass:"text-caption text-grey-10"},[t._v("\n      "+t._s(t.singlePost.description)+"\n    ")]),s("div",{staticClass:"flex justify-between"},[s("small",{staticClass:"q-mt-lg"},[t._v(t._s(t.prettyDate(t.singlePost.publication_date)))]),s("small",{staticClass:"text-overline q-mt-lg"},[t._v(t._s(t.singlePost.relationships.user.name))])])]),s("q-separator")],1)},n=[],r=s("b178"),l={name:"PostItem",props:{singlePost:{type:Object,required:!0}},methods:{prettyDate:function(t){return r["a"].formatDate(t,"YY-MM-DD")}}},c=l,u=s("2877"),d=Object(u["a"])(c,o,n,!1,null,"61445ed7",null),p=d.exports,m=s("a2b6"),g={name:"PostsList",components:{PostItem:p},props:{myPage:{type:Boolean,required:!1,default:function(){return!1}}},data:function(){return{pagination:{page:1,perPage:10,total:0,lastPage:1,from:0,to:0,searchQuery:"",sortBy:"id",sortDir:"ASC",includeRelations:["user"]},iconDir:"keyboard_arrow_up"}},computed:{postsResults:function(){return this.$store.getters["posts/GET_POSTS"]},fetchingPosts:function(){return this.$store.getters["posts/GET_FETCHING_POSTS"]},loggedUserData:function(){return this.$store.getters["profile/GET_LOGGED_IN_USER"]}},created:function(){this.myPage&&Object(m["a"])()&&(this.pagination.user=this.loggedUserData.id),this.actionFetchPosts()},methods:{actionFetchPosts:function(){this.$store.dispatch("posts/FETCH_POSTS",this.pagination).then((function(t){return t})).catch((function(t){return t}))},onPageChange:function(t){this.pagination.page=t,this.actionFetchPosts()},handleSortingByPublicationDate:function(){this.iconDir="keyboard_arrow_up"===this.iconDir?"keyboard_arrow_down":"keyboard_arrow_up",this.pagination.sortBy="publication_date",this.pagination.sortDir="keyboard_arrow_up"===this.iconDir?"ASC":"DESC",this.actionFetchPosts()}},watch:{"pagination.searchQuery":{handler:function(){this.pagination.page=1,this.actionFetchPosts()}},"pagination.page":{handler:function(){this.actionFetchPosts()}},postsResults:{deep:!0,handler:function(){Object.prototype.hasOwnProperty.call(this.postsResults,"meta")&&(this.pagination.total=this.postsResults.meta.total,this.pagination.lastPage=this.postsResults.meta.last_page,this.pagination.from=this.postsResults.meta.from,this.pagination.to=this.postsResults.meta.to)}}}},f=g,h=Object(u["a"])(f,a,i,!1,null,null,null);e["a"]=h.exports},"23bb":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"overlay-heavy force-center"},[s("div",{staticClass:"text-center"},[s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"logo-style responsive",attrs:{src:t.logoImgUrl,alt:"BlogTest"}})]),s("h4",{staticClass:"h4 q-mt-sm"},[t._v("Log In")]),s("div",{staticClass:"login-box"},[s("q-form",{ref:"loginForm"},[s("q-input",{staticClass:"q-ma-xl",attrs:{size:"sm",label:"Email",type:"email",trim:"","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Email Required"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"q-ml-md",attrs:{size:"md",name:"mail"}})]},proxy:!0}]),model:{value:t.loginForm.email,callback:function(e){t.$set(t.loginForm,"email",e)},expression:"loginForm.email"}}),s("q-input",{staticClass:"q-ma-xl",attrs:{size:"sm",label:"Password",type:"password",trim:"","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Password Required"}]},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.loginUser.apply(null,arguments))}},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"q-ml-md",attrs:{size:"md",name:"lock"}})]},proxy:!0}]),model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),s("div",{staticClass:"q-ma-xl"},[s("q-btn",{staticClass:"full-width q-pa-md q-ma-lg text-capitalize",attrs:{loading:t.loading,disable:t.loading,rounded:"",color:"grey"},on:{click:t.loginUser},scopedSlots:t._u([{key:"loading",fn:function(){return[s("q-spinner-facebook")]},proxy:!0}])},[s("span",{staticClass:"text-h5"},[t._v("Login")])])],1)],1)],1)])},i=[],o=(s("b0c0"),s("a2b6")),n=s("6116"),r=s("4a5a"),l=s("694d"),c={name:"AuthLogin",data:function(){return{logoImgUrl:"img/logo.jpg",loginForm:{email:"",password:""},loading:!1}},methods:{loginUser:function(){var t=this;this.$refs.loginForm.validate().then((function(e){e?(t.loading=!0,r["b"].post("auth/login",Object(n["b"])(t.loginForm)).then((function(e){t.loading=!1;var s=e.data.user;s.role=s.relationships.roles.length?s.relationships.roles[0].name:"user",l["a"].storeAccessToken(e.data.access_token),l["a"].storeRefreshToken(e.data.refresh_token),t.$store.commit("profile/SET_LOGGED_IN_USER",s),Object(o["c"])(t,"positive","Login Success"),t.$router.push({name:"MyPosts"})})).catch((function(e){t.loading=!1,Object(o["b"])(t,e)}))):Object(o["c"])(t,"negative","Please provide your credentials")}))}}},u=c,d=(s("6273"),s("2877")),p=Object(d["a"])(u,a,i,!1,null,"554c2a82",null);e["default"]=p.exports},"34de":function(t,e,s){"use strict";s("3757")},3757:function(t,e,s){},6273:function(t,e,s){"use strict";s("bcd1")},"738e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("PostsList",{ref:"PostsListRef",attrs:{"my-page":!0}}),s("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[s("q-btn",{attrs:{fab:"",icon:"add",color:"primary"},on:{click:function(e){t.addPostDialog=!t.addPostDialog}}})],1),s("q-dialog",{model:{value:t.addPostDialog,callback:function(e){t.addPostDialog=e},expression:"addPostDialog"}},[s("AddPostItemDialog",{on:{success:t.successEvent}})],1)],1)},i=[],o=s("21f3"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"q-pa-md q-ma-md",staticStyle:{width:"700px","max-width":"80vw"}},[s("q-toolbar",[s("q-toolbar-title",{staticClass:"text-center"},[t._v(" Add a Post ")])],1),s("hr"),s("q-card-section",[s("q-form",{ref:"addPostForm"},[s("q-input",{staticClass:"q-ma-sm",attrs:{size:"sm",label:"Title",type:"text",trim:"","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Title Required"}]},model:{value:t.addPostForm.title,callback:function(e){t.$set(t.addPostForm,"title",e)},expression:"addPostForm.title"}}),s("q-input",{staticClass:"q-ma-sm",attrs:{size:"sm",label:"Description",type:"textarea",trim:"","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Description Required"}]},model:{value:t.addPostForm.description,callback:function(e){t.$set(t.addPostForm,"description",e)},expression:"addPostForm.description"}}),s("q-input",{attrs:{filled:"",label:"Publication Date",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{model:{value:t.addPostForm.publication_date,callback:function(e){t.$set(t.addPostForm,"publication_date",e)},expression:"addPostForm.publication_date"}},[s("div",{staticClass:"row items-center justify-end"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.addPostForm.publication_date,callback:function(e){t.$set(t.addPostForm,"publication_date",e)},expression:"addPostForm.publication_date"}})],1)],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pl-md q-pr-md q-mr-md text-black text-capitalize",attrs:{size:"md",label:"Cancel",disable:t.submitting}}),s("q-btn",{staticClass:"q-pl-md q-pr-md q-mr-md text-capitalize",attrs:{size:"md",color:"primary",outline:"",loading:t.submitting,disable:t.submitting},on:{click:t.btnSubmitPost},scopedSlots:t._u([{key:"loading",fn:function(){return[s("q-spinner-facebook")]},proxy:!0}])},[t._v("\n      Submit\n      ")])],1)],1)},r=[],l=s("a2b6"),c={name:"AddPostItemDialog",data:function(){return{addPostForm:{title:"",description:"",publication_date:""},submitting:!1}},methods:{btnSubmitPost:function(){var t=this;this.$refs.addPostForm.validate().then((function(e){e?(t.submitting=!0,t.$store.dispatch("posts/ADD_POST",t.addPostForm).then((function(e){t.submitting=!1,t.$emit("success"),Object(l["d"])(t,"Your post has been saved successfully")})).catch((function(e){t.submitting=!1,Object(l["b"])(t,e)}))):Object(l["c"])(t,"negative","Please fill the fields")}))}}},u=c,d=s("2877"),p=Object(d["a"])(u,n,r,!1,null,"2478abb6",null),m=p.exports,g={name:"MyPosts",components:{PostsList:o["a"],AddPostItemDialog:m},data:function(){return{addPostDialog:!1}},computed:{},methods:{successEvent:function(){this.addPostDialog=!1,this.$refs.PostsListRef.actionFetchPosts()}}},f=g,h=Object(d["a"])(f,a,i,!1,null,null,null);e["default"]=h.exports},"8b24":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("PostsList")],1)},i=[],o=s("21f3"),n={name:"BlogIndex",components:{PostsList:o["a"]},data:function(){return{}},computed:{},methods:{}},r=n,l=s("2877"),c=Object(l["a"])(r,a,i,!1,null,null,null);e["default"]=c.exports},bcd1:function(t,e,s){},e51e:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fullscreen bg-grey-3 text-primary text-center q-pa-md flex flex-center"},[s("div",[s("div",{staticStyle:{"font-size":"30vh"}},[t._v("404")]),s("div",{staticClass:"text-h2",staticStyle:{opacity:"0.4"}},[t._v("Oops. Nothing here...")]),s("q-btn",{staticClass:"q-mt-xl",attrs:{color:"primary","text-color":"white",unelevated:"",to:"/",label:"Go Home","no-caps":""}})],1)])},i=[],o={name:"Error404"},n=o,r=s("2877"),l=Object(r["a"])(n,a,i,!1,null,null,null);e["default"]=l.exports}}]);